# E2E 테스트 체크리스트

Kastor Data Academy 애플리케이션의 엔드투엔드 테스트를 위한 포괄적인 체크리스트입니다.

---

## 1. 기본 환경

### 1.1 앱 실행
- [ ] 앱이 정상적으로 실행되는가
- [ ] 모든 필수 리소스가 로드되는가
- [ ] 콘솔 에러가 없는가

### 1.2 언어 감지
- [ ] 브라우저 언어가 `en`일 때 영어로 초기화되는가
- [ ] 브라우저 언어가 `ko`일 때 한국어로 초기화되는가
- [ ] 언어 설정이 로컬스토리지에 저장되는가

### 1.3 세션 초기화
- [ ] 로컬스토리지 초기화로 새 세션 시작이 가능한가
- [ ] 초기화 후 기본 상태가 올바른가

---

## 2. 탐정 대시보드 핵심 흐름

### 2.1 Chat 뷰 (/dashboard/chat)
- [ ] 초기 메시지가 렌더링되는가
- [ ] 타이핑 인디케이터가 표시되는가
- [ ] 선택지(Choices)가 올바르게 렌더링되는가
- [ ] 선택지 클릭 시 플레이어 메시지가 추가되는가
- [ ] 선택지 클릭 후 응답 메시지가 도착하는가

### 2.2 증거 시스템
- [ ] 증거 첨부 메시지가 정상 표시되는가
- [ ] 증거 수집 시 Files 탭 배지가 증가하는가
- [ ] 증거가 자동으로 저장되는가
- [ ] 증거 카드 클릭 시 미리보기가 열리는가

### 2.3 탭 네비게이션
- [ ] Ctrl+1~5 키보드 단축키가 동작하는가
- [ ] 모바일에서 스와이프로 탭 전환이 가능한가
- [ ] 탭 전환 애니메이션이 부드러운가
- [ ] 활성 탭이 시각적으로 구분되는가

### 2.4 Data 탭 (/dashboard/data)
- [ ] 필터가 정상 적용되는가
- [ ] 정렬 기능이 동작하는가
- [ ] 페이지네이션이 올바른가
- [ ] 패턴 감지 시 알림이 표시되는가
- [ ] 의심스러운 행이 하이라이트되는가

### 2.5 Files 탭 (/dashboard/files)
- [ ] 폴더 구조가 올바르게 표시되는가
- [ ] 폴더를 열고 닫을 수 있는가
- [ ] 파일 클릭 시 미리보기가 열리는가
- [ ] 문서/로그/이미지 등 타입별 뷰어가 동작하는가
- [ ] 파일 메타데이터가 정확하게 표시되는가

### 2.6 Team 탭 (/dashboard/team)
- [ ] 캐릭터 카드가 모두 표시되는가
- [ ] 캐릭터 클릭 시 프로필이 열리는가
- [ ] 프로필 탭(Background, Timeline, Evidence, Relationships) 전환이 되는가
- [ ] 관계도 그래프가 올바르게 렌더링되는가
- [ ] 관계도에서 노드/엣지 인터랙션이 가능한가

---

## 3. 상태 관리 및 저장

### 3.1 진행도 추적
- [ ] 선택지 선택 시 진행도가 증가하는가
- [ ] 증거 수집 시 진행도가 증가하는가
- [ ] GameHUD에 진행률이 정확하게 표시되는가
- [ ] 진행도가 0-100% 범위 내에 있는가

### 3.2 저장/불러오기
- [ ] Settings 모달에서 수동 저장이 가능한가
- [ ] 저장 슬롯 변경이 가능한가
- [ ] 저장된 게임을 불러올 수 있는가
- [ ] 불러온 상태가 정확한가

### 3.3 자동 저장
- [ ] 30초 주기로 자동 저장이 동작하는가
- [ ] 로컬스토리지에 스냅샷이 저장되는가
- [ ] 페이지 새로고침 후 상태가 복원되는가

### 3.4 Analytics 이벤트
- [ ] `choice_made` 이벤트가 기록되는가
- [ ] `evidence_collected` 이벤트가 기록되는가
- [ ] `scene_start` 이벤트가 기록되는가
- [ ] 이벤트 데이터가 올바른 형식인가

---

## 4. Analytics & Progress 탭

### 4.1 진행 상황 표시 (/dashboard/progress)
- [ ] 전체 진행률이 정확하게 표시되는가
- [ ] 증거 수집 통계가 맞는가
- [ ] 정답률이 올바르게 계산되는가
- [ ] 플레이 시간이 정확한가

### 4.2 Analytics 데이터
- [ ] Accuracy 트렌드 그래프가 표시되는가
- [ ] 그래프 데이터가 존재하는가
- [ ] 강점/약점 분석이 표시되는가

### 4.3 업적 시스템
- [ ] 업적 달성 여부가 정확한가
- [ ] 업적 달성 시 알림이 표시되는가
- [ ] 업적 아이콘과 설명이 올바른가

### 4.4 에피소드 상태
- [ ] 잠김/진행 중/완료 상태가 정확한가
- [ ] Leaderboard가 "Coming Soon"으로 표시되는가
- [ ] 잠긴 콘텐츠가 접근 불가한가

---

## 5. Settings 기능

### 5.1 테마
- [ ] 다크/라이트 테마 토글이 동작하는가
- [ ] 시스템 선호 설정을 감지하는가
- [ ] 테마 변경이 즉시 반영되는가
- [ ] 테마 설정이 로컬스토리지에 저장되는가

### 5.2 언어 전환
- [ ] 영어/한국어 전환이 가능한가
- [ ] UI 문자열이 모두 변경되는가
- [ ] 날짜/시간 포맷이 로케일에 맞게 변경되는가
- [ ] 스크린리더 라벨이 번역되는가

### 5.3 사운드/효과
- [ ] 사운드 토글이 동작하는가
- [ ] 효과음 볼륨 조절이 가능한가
- [ ] 설정이 저장되는가

### 5.4 Analytics 관리
- [ ] Analytics 세션 시작/종료가 가능한가
- [ ] Analytics 데이터 초기화가 가능한가
- [ ] JSON/CSV 내보내기가 동작하는가

---

## 6. Episode 데이터 & 씬 전환

### 6.1 Episode 4 JSON 처리
- [ ] 'cinematic' 타입 씬이 정상 처리되는가
- [ ] 'alert' 타입 메시지가 표시되는가
- [ ] `autoPlay` 속성이 동작하는가
- [ ] JSON 파싱 에러가 없는가

### 6.2 Scene Requirements
- [ ] 요구사항 불만족 시 씬 접근이 제한되는가
- [ ] 필요한 증거가 수집되지 않으면 경고가 표시되는가
- [ ] 선택 조건이 올바르게 검증되는가

### 6.3 관계도/신뢰도
- [ ] 선택에 따라 관계도가 변경되는가
- [ ] 신뢰도 변화가 스토어에 반영되는가
- [ ] 씬 언락이 정상 동작하는가
- [ ] 관계도 변화가 Team 탭에 반영되는가

---

## 7. 국제화(i18n)

### 7.1 번역 시스템
- [ ] `useTranslation` 훅이 모든 컴포넌트에 적용되었는가
- [ ] 하드코딩된 문자열이 없는가
- [ ] 번역 키가 일관된 네이밍을 따르는가

### 7.2 번역 파일
- [ ] `en/translation.json` 파일이 완전한가
- [ ] `ko/translation.json` 파일이 완전한가
- [ ] 누락된 키가 없는가
- [ ] 플레이스홀더({{name}})가 올바르게 처리되는가

### 7.3 언어 전환 동작
- [ ] Settings에서 언어 변경 시 즉시 UI가 반영되는가
- [ ] 언어 설정이 로컬스토리지에 저장되는가
- [ ] 페이지 새로고침 후 언어가 유지되는가

### 7.4 로케일별 포맷
- [ ] 날짜가 로케일에 맞게 포맷되는가 (en: MM/DD/YYYY, ko: YYYY. MM. DD.)
- [ ] 시간이 올바르게 표시되는가
- [ ] `aria-label`이 번역되는가
- [ ] 화면 리더가 번역된 텍스트를 읽는가

---

## 8. 접근성

### 8.1 키보드 네비게이션
- [ ] Tab 키로 모든 인터랙티브 요소를 순회할 수 있는가
- [ ] Enter/Space로 버튼/링크를 활성화할 수 있는가
- [ ] Esc 키로 모달을 닫을 수 있는가
- [ ] Home/End 키가 동작하는가

### 8.2 포커스 관리
- [ ] 포커스 인디케이터가 명확하게 표시되는가
- [ ] "Skip to content" 링크가 있는가
- [ ] 모달 열릴 때 포커스 트랩이 동작하는가
- [ ] 모달 닫힐 때 포커스가 복원되는가

### 8.3 스크린 리더
- [ ] 주요 뷰(메시지, 증거, 그래프)를 스크린 리더가 읽을 수 있는가
- [ ] Semantic HTML이 사용되었는가 (nav, main, article 등)
- [ ] ARIA 라벨이 적절하게 사용되었는가
- [ ] Live regions가 동적 콘텐츠에 적용되었는가

### 8.4 시각적 접근성
- [ ] 색 대비가 WCAG AA 기준을 만족하는가 (4.5:1)
- [ ] 색상만으로 정보를 전달하지 않는가
- [ ] Reduced motion 설정이 존중되는가
- [ ] Zoom 200%에서 UI가 깨지지 않는가

---

## 9. 반응형 & 퍼포먼스

### 9.1 반응형 레이아웃
- [ ] 모바일(375px)에서 레이아웃이 올바른가
- [ ] 태블릿(768-1024px)에서 레이아웃이 올바른가
- [ ] 데스크톱(1440px+)에서 레이아웃이 올바른가

### 9.2 모바일 최적화
- [ ] BottomNav가 모바일에서 표시되는가
- [ ] Sidebar가 데스크톱에서 표시되는가
- [ ] 터치 제스처(스와이프, 롱프레스)가 동작하는가
- [ ] 터치 타겟이 최소 44px인가

### 9.3 애니메이션
- [ ] 모든 애니메이션이 60fps로 동작하는가
- [ ] 탭 전환이 부드러운가
- [ ] 메시지 애니메이션이 자연스러운가
- [ ] 로딩 스피너가 표시되는가

### 9.4 상태 표시
- [ ] 로딩 상태가 명확하게 표시되는가
- [ ] 빈 상태(Empty State)가 적절한가
- [ ] 에러 상태가 사용자 친화적인가

### 9.5 퍼포먼스
- [ ] Lighthouse 퍼포먼스 점수 > 90인가
- [ ] Lighthouse 접근성 점수 > 90인가
- [ ] 초기 로딩 시간 < 3초인가
- [ ] 메모리 누수가 없는가

---

## 10. 테스트 & 배포

### 10.1 단위/통합 테스트
- [ ] `npm run test` (Vitest) 모두 통과하는가
- [ ] 테스트 커버리지가 충분한가 (> 70%)
- [ ] 주요 컴포넌트에 대한 테스트가 있는가

### 10.2 E2E 테스트
- [ ] `npm run test:e2e` (Playwright) 모두 통과하는가
- [ ] 핵심 사용자 흐름이 테스트되는가
- [ ] 크로스 브라우저 테스트가 통과하는가

### 10.3 CI/CD
- [ ] GitHub Actions 워크플로우가 구성되어 있는가
- [ ] PR 시 자동 테스트가 실행되는가
- [ ] 테스트 실패 시 머지가 차단되는가
- [ ] main 브랜치 머지 시 자동 배포가 되는가

### 10.4 환경 설정
- [ ] `.env.example` 파일이 있는가
- [ ] 모든 필수 환경 변수가 문서화되어 있는가
- [ ] 프로덕션 환경 변수가 올바르게 설정되어 있는가
- [ ] 민감한 정보가 버전 관리에 포함되지 않았는가

---

## 체크리스트 사용 방법

### 수동 테스트
1. 각 섹션을 순차적으로 진행
2. 체크박스 `[ ]`를 `[x]`로 변경하며 확인
3. 실패한 항목은 이슈로 등록

### 자동화 테스트
1. Playwright E2E 테스트로 자동화
2. `npm run test:e2e` 실행
3. 테스트 리포트 확인

### CI/CD 통합
1. GitHub Actions에서 PR마다 자동 실행
2. 체크리스트 항목과 테스트 케이스 매핑
3. 실패 시 자동 알림

---

**마지막 업데이트**: 2025-11-13
**관련 문서**:
- [E2E Test Report](./e2e_test_report.md)
- [Cursor Prompts](./cursor_prompts.md)
